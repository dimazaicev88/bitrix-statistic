_Вечная весна в одиночной камере._

## Go Bitrix-statistic

Полная документация https://dev.1c-bitrix.ru/api_help/statistic/terms.php#404

### Рекламная кампания:

В модуле статистики предусмотрен механизм обсчета определённых потоков посетителей, приходящих на сайт. Каждый такой
поток можно идентифицировать по ряду признаков:

1. Наличие в ссылке, ведущей на ваш сайт, одного или двух параметров – referer1, referer2 (либо их синонимов, задаваемых
   в настройках модуля). Пример подобной ссылки: http://www.bitrixsoft.ru/?referer1=bsm&referer2=doc.
2. Поисковые системы, с которых могут заходить посетители.
3. Маски любых ссылающихся страниц.
4. Маски страниц вашего сайта, на которые приходят посетители.

#### Идентификаторы рекламной кампании (referer1, referer2):

**Идентификаторы рекламной кампании (РК)** - это два произвольных строковых значения, которые в первую очередь позволяют идентифицировать РК в более понятном виде, чем просто цифровой ID,
а во-вторых, позволяют группировать различные РК в соответствующем отчете. Данные идентификаторы могут быть заданы:
* "Вручную" в форме редактирования/создания РК. 
* Автоматически. Если на первом хите сессии в параметрах страницы присутствуют referer1, referer2 (либо их синонимы) и если в настройках модуля статистики включен параметр "Автоматически создавать рекламные кампании при наличии параметров referer1, referer2 в URL'е", то это позволит автоматически создавать новые РК с идентификаторами, значения которых совпадут с параметрами referer1, referer2.

#### Дополнительный параметр рекламной кампании (referer3):

Задать данный параметр (referer3) можно в ссылке на сайт одновременно с идентификаторами рекламной кампании. Например: http://www.bitrixsoft.ru/?referer1=bsm&referer2=doc&referer3=xxx
Если по такой ссылке зайдет посетитель, то он будет фиксироваться по рекламной кампании с идентификаторами "bsm/doc" и дополнительным параметром "xxx", который будет доступен для просмотра в отчете "Сессии". Цель подобного параметра - персонализировать заход по рекламной кампании.

#### Прямой заход по рекламной кампании

Прямым заходом по рекламной кампании считается сессия, открытая в момент идентификации посетителя как посетителя по той или иной рекламной кампании. Т.е., если вы переходите по ссылке http://www.bitrix.ru/?referer1=bsm&referer2=doc, то после того, как вы зайдете на сайт, у вас откроется сессия и вы будете идентифицированы как посетитель по рекламной кампании: r1: bsm; r2: doc. Пока сессия открыта, вы считаетесь посетителем, сделавшим прямой заход по соответствующей рекламной кампании.

#### Возврат по рекламной кампании

Возвратом по рекламной кампании считается сессия, открытая посетителем после того, как он сделал прямой заход по данной рекламной кампании. Т.е., если вы после прямого захода по рекламной кампании не заходили и не идентифицировались по другим рекламным кампаниям, то все ваши последующие заходы на сайт будут считаться возвратами по той рекламной кампании, по которой вы сделали прямой заход.

#### Внимательность посетителей рекламной кампании
Среднее количество хитов за одну сессию. Данные параметр отдельно считается для сессии на прямом заходе и на возврате.

#### Затраты на рекламную кампанию
Денежная сумма, потраченная на ту или иную рекламную кампанию. Значение данного параметра может задано в настройках рекламной кампании.

#### Доходы рекламной кампании
Денежная сумма, полученная от посетителей той или иной рекламной кампании.

#### Прибыль рекламной кампании
Разница между доходами и затратами на рекламную кампанию.

#### Рентабельность рекламной кампании
Рентабельность рекламной кампании рассчитывается по формуле (прибыль / расходы) * 100%.

run tests:
go test ./... -coverprofile=cover.out ; go tool cover -html cover 